<!-- components/WatcherSamples.vue -->
<template>
  <div class="watcher-samples">
    <h1>ğŸ“¡ åµè½å™¨ (Watch & WatchEffect)</h1>
    <p class="description">æ•¸æ“šè®ŠåŒ–çš„åµæ¢ï¼Œç²¾ç¢ºç›£æ§éŸ¿æ‡‰å¼ç‹€æ…‹çš„è®ŠåŒ–</p>

    <!-- ç¯„ä¾‹å°èˆª -->
    <div class="demo-navigation">
      <button v-for="demo in demos" :key="demo.id" @click="currentDemo = demo.id" class="nav-btn"
        :class="{ active: currentDemo === demo.id }">
        {{ demo.title }}
      </button>
    </div>

    <!-- ç•¶å‰å±•ç¤ºçš„ç¯„ä¾‹ -->
    <component :is="currentComponent" />
  </div>
</template>

<script setup>
import { ref, computed } from 'vue'
import BasicWatchDemo from './WatcherSamples/BasicWatchDemo.vue'
import ComparisonDemo from './WatcherSamples/ComparisonDemo.vue'
import PracticalExamplesDemo from './WatcherSamples/PracticalExamplesDemo.vue'
import DataMonitorPractice from './WatcherSamples/DataMonitorPractice.vue'
import SelfChallengeDemo from './WatcherSamples/SelfChallengeDemo.vue'

const currentDemo = ref('basic')

const demos = [
  {
    id: 'basic',
    title: 'åŸºç¤ç”¨æ³•',
    component: BasicWatchDemo
  },
  {
    id: 'comparison',
    title: 'å°æ¯”é¸æ“‡',
    component: ComparisonDemo
  },
  {
    id: 'practical',
    title: 'å¯¦éš›æ‡‰ç”¨',
    component: PracticalExamplesDemo
  },
  {
    id: 'data-monitor',
    title: 'å¯¦éš›æ¡ˆä¾‹:è³‡æ–™ç›£æ§',
    component: DataMonitorPractice
  },
  {
    id: 'self-challenge',
    title: 'è‡ªæˆ‘è©¦ç…‰',
    component: SelfChallengeDemo
  }
]

const currentComponent = computed(() => {
  const demo = demos.find(d => d.id === currentDemo.value)
  return demo ? demo.component : BasicWatchDemo
})
</script>

<style>
@import url('../assets/watcher.css');
</style>

<!-- components/EventHandlingSamples/BasicEventDemo.vue -->
<template>
  <div class="basic-event-demo">
    <h2>åŸºç¤äº‹ä»¶è™•ç† (v-on)</h2>
    <p class="route-info">ğŸ“ è·¯å¾‘ï¼š/EventHandlingSamples/BasicEventDemo.vue</p>

    <!-- åŸºæœ¬ v-on ç”¨æ³• -->
    <div class="demo-section">
      <h3>1. åŸºæœ¬ v-on èªæ³•</h3>
      <div class="result">
        <div class="event-group">
          <h4>å®Œæ•´èªæ³• v-on:</h4>
          <button v-on:click="incrementCounter" class="btn btn-primary">
            é»æ“Šæ¬¡æ•¸: {{ clickCount }}
          </button>
          <button v-on:click="showAlert" class="btn btn-secondary">
            é¡¯ç¤ºè­¦å‘Š
          </button>
        </div>

        <div class="event-group">
          <h4>ç°¡å¯«èªæ³• @:</h4>
          <button @click="incrementCounter" class="btn btn-success">
            é»æ“Šæ¬¡æ•¸: {{ clickCount }}
          </button>
          <button @click="showMessage" class="btn btn-warning">
            é¡¯ç¤ºè¨Šæ¯
          </button>
        </div>
      </div>
      <div class="code-example">
        <pre v-pre><code><!-- å®Œæ•´èªæ³• -->
&lt;button v-on:click="incrementCounter"&gt;é»æ“Š&lt;/button&gt;
&lt;button v-on:click="showAlert"&gt;è­¦å‘Š&lt;/button&gt;

<!-- ç°¡å¯«èªæ³• (æ¨è–¦) -->
&lt;button @click="incrementCounter"&gt;é»æ“Š&lt;/button&gt;
&lt;button @click="showMessage"&gt;è¨Šæ¯&lt;/button&gt;</code></pre>
      </div>
    </div>

    <!-- å…§è¯äº‹ä»¶è™•ç† -->
    <div class="demo-section">
      <h3>2. å…§è¯äº‹ä»¶è™•ç†</h3>
      <div class="result">
        <div class="inline-examples">
          <button @click="counter++" class="btn btn-primary">
            ç°¡å–®éå¢: {{ counter }}
          </button>
          <button @click="message = 'ä½ å¥½ Vue!'" class="btn btn-success">
            è¨­å®šè¨Šæ¯
          </button>
          <button @click="items.push(`é …ç›® ${items.length + 1}`)" class="btn btn-warning">
            æ–°å¢é …ç›®
          </button>
          <button @click="showStatus = !showStatus" class="btn btn-secondary">
            åˆ‡æ›ç‹€æ…‹: {{ showStatus ? 'é¡¯ç¤º' : 'éš±è—' }}
          </button>
        </div>
        <div class="status-display">
          <p><strong>ç›®å‰è¨Šæ¯:</strong> {{ message }}</p>
          <p v-if="showStatus" class="status-info">ç‹€æ…‹å·²é–‹å•Ÿï¼</p>
          <ul>
            <li v-for="item in items" :key="item">{{ item }}</li>
          </ul>
        </div>
      </div>
      <div class="code-example">
        <pre v-pre><code><!-- å…§è¯è™•ç†ï¼šç›´æ¥åœ¨æ¨¡æ¿ä¸­å¯« JavaScript -->
&lt;button @click="counter++"&gt;éå¢&lt;/button&gt;
&lt;button @click="message = 'ä½ å¥½ Vue!'"&gt;è¨­å®šè¨Šæ¯&lt;/button&gt;
&lt;button @click="items.push(`é …ç›® ${items.length + 1}`)"&gt;æ–°å¢&lt;/button&gt;
&lt;button @click="showStatus = !showStatus"&gt;åˆ‡æ›&lt;/button&gt;</code></pre>
      </div>
    </div>

    <!-- å¸¶åƒæ•¸çš„æ–¹æ³•èª¿ç”¨ -->
    <div class="demo-section">
      <h3>3. å¸¶åƒæ•¸çš„æ–¹æ³•èª¿ç”¨</h3>
      <div class="result">
        <div class="param-examples">
          <button @click="greet('Alice')" class="btn btn-primary">
            å•å€™ Alice
          </button>
          <button @click="greet('Bob')" class="btn btn-primary">
            å•å€™ Bob
          </button>
          <button @click="changeColor('red')" class="btn btn-danger">
            ç´…è‰²
          </button>
          <button @click="changeColor('blue')" class="btn btn-primary">
            è—è‰²
          </button>
          <button @click="changeColor('green')" class="btn btn-success">
            ç¶ è‰²
          </button>
        </div>
        <div class="param-output">
          <p><strong>å•å€™è¨Šæ¯:</strong> {{ greetingMessage }}</p>
          <div class="color-box" :style="{ backgroundColor: currentColor }">
            ç›®å‰é¡è‰²: {{ currentColor }}
          </div>
        </div>
      </div>
      <div class="code-example">
        <pre v-pre><code><!-- å‚³éåƒæ•¸çµ¦æ–¹æ³• -->
&lt;button @click="greet('Alice')"&gt;å•å€™ Alice&lt;/button&gt;
&lt;button @click="changeColor('red')"&gt;è¨­ç‚ºç´…è‰²&lt;/button&gt;

// æ–¹æ³•å®šç¾©
const greet = (name) => {
  greetingMessage.value = `ä½ å¥½ï¼Œ${name}ï¼`
}

const changeColor = (color) => {
  currentColor.value = color
}</code></pre>
      </div>
    </div>

    <!-- äº‹ä»¶ç‰©ä»¶çš„ä½¿ç”¨ -->
    <div class="demo-section">
      <h3>4. äº‹ä»¶ç‰©ä»¶çš„ä½¿ç”¨</h3>
      <div class="result">
        <div class="event-object-examples">
          <button @click="handleClickEvent" class="btn btn-primary">
            ç²å–äº‹ä»¶è³‡è¨Š
          </button>
          <input @input="handleInputEvent" v-model="inputValue" placeholder="è¼¸å…¥æ–‡å­—è©¦è©¦" class="input-field">
          <div @mousemove="handleMouseMove" class="mouse-area">
            æ»‘é¼ ç§»å‹•å€åŸŸ ({{ mouseX }}, {{ mouseY }})
          </div>
        </div>
        <div class="event-info">
          <h5>äº‹ä»¶è³‡è¨Š:</h5>
          <ul>
            <li><strong>äº‹ä»¶é¡å‹:</strong> {{ eventInfo.type }}</li>
            <li><strong>ç›®æ¨™å…ƒç´ :</strong> {{ eventInfo.target }}</li>
            <li><strong>æ™‚é–“æˆ³è¨˜:</strong> {{ eventInfo.timestamp }}</li>
            <li><strong>è¼¸å…¥å€¼:</strong> {{ inputValue }}</li>
          </ul>
        </div>
      </div>
      <div class="code-example">
        <pre v-pre><code><!-- ä½¿ç”¨ $event ç²å–äº‹ä»¶ç‰©ä»¶ -->
&lt;button @click="handleClickEvent"&gt;ç²å–äº‹ä»¶è³‡è¨Š&lt;/button&gt;
&lt;input @input="handleInputEvent" v-model="inputValue"&gt;
&lt;div @mousemove="handleMouseMove"&gt;æ»‘é¼ å€åŸŸ&lt;/div&gt;

// æ–¹æ³•ä¸­æ¥æ”¶äº‹ä»¶ç‰©ä»¶
const handleClickEvent = (event) => {
  eventInfo.value = {
    type: event.type,
    target: event.target.tagName,
    timestamp: new Date().toLocaleTimeString()
  }
}</code></pre>
      </div>
    </div>

    <!-- åŒæ™‚ä½¿ç”¨äº‹ä»¶ç‰©ä»¶å’Œåƒæ•¸ -->
    <div class="demo-section">
      <h3>5. åŒæ™‚ä½¿ç”¨äº‹ä»¶ç‰©ä»¶å’Œåƒæ•¸</h3>
      <div class="result">
        <div class="mixed-examples">
          <button @click="handleMixed('æŒ‰éˆ•1', $event)" class="btn btn-primary">
            æŒ‰éˆ•1
          </button>
          <button @click="handleMixed('æŒ‰éˆ•2', $event)" class="btn btn-success">
            æŒ‰éˆ•2
          </button>
          <button @click="handleMixed('æŒ‰éˆ•3', $event)" class="btn btn-warning">
            æŒ‰éˆ•3
          </button>
        </div>
        <div class="mixed-output">
          <p><strong>æ··åˆè™•ç†çµæœ:</strong> {{ mixedResult }}</p>
        </div>
      </div>
      <div class="code-example">
        <pre v-pre><code><!-- åŒæ™‚å‚³éè‡ªå®šåƒæ•¸å’Œäº‹ä»¶ç‰©ä»¶ -->
&lt;button @click="handleMixed('æŒ‰éˆ•1', $event)"&gt;æŒ‰éˆ•1&lt;/button&gt;
&lt;button @click="handleMixed('æŒ‰éˆ•2', $event)"&gt;æŒ‰éˆ•2&lt;/button&gt;

// æ–¹æ³•æ¥æ”¶å¤šå€‹åƒæ•¸
const handleMixed = (buttonName, event) => {
  const clickTime = new Date().toLocaleTimeString()
  mixedResult.value = `${buttonName} åœ¨ ${clickTime} è¢«é»æ“Š (å…ƒç´ : ${event.target.tagName})`
}</code></pre>
      </div>
    </div>
  </div>
</template>

<script setup>
import { ref } from 'vue'

// åŸºæœ¬è¨ˆæ•¸å™¨
const clickCount = ref(0)
const incrementCounter = () => {
  clickCount.value++
}

const showAlert = () => {
  alert('é€™æ˜¯ä¸€å€‹è­¦å‘Šè¨Šæ¯ï¼')
}

const showMessage = () => {
  alert('ä½¿ç”¨ç°¡å¯«èªæ³•çš„è¨Šæ¯ï¼')
}

// å…§è¯äº‹ä»¶ç¯„ä¾‹
const counter = ref(0)
const message = ref('åˆå§‹è¨Šæ¯')
const showStatus = ref(false)
const items = ref(['é …ç›® 1'])

// åƒæ•¸ç¯„ä¾‹
const greetingMessage = ref('')
const currentColor = ref('lightgray')

const greet = (name) => {
  greetingMessage.value = `ä½ å¥½ï¼Œ${name}ï¼`
}

const changeColor = (color) => {
  currentColor.value = color
}

// äº‹ä»¶ç‰©ä»¶ç¯„ä¾‹
const inputValue = ref('')
const mouseX = ref(0)
const mouseY = ref(0)
const eventInfo = ref({
  type: '',
  target: '',
  timestamp: ''
})

const handleClickEvent = (event) => {
  eventInfo.value = {
    type: event.type,
    target: event.target.tagName,
    timestamp: new Date().toLocaleTimeString()
  }
}

const handleInputEvent = (event) => {
  eventInfo.value = {
    type: event.type,
    target: event.target.tagName,
    timestamp: new Date().toLocaleTimeString()
  }
}

const handleMouseMove = (event) => {
  mouseX.value = event.offsetX
  mouseY.value = event.offsetY
}

// æ··åˆåƒæ•¸ç¯„ä¾‹
const mixedResult = ref('')

const handleMixed = (buttonName, event) => {
  const clickTime = new Date().toLocaleTimeString()
  mixedResult.value = `${buttonName} åœ¨ ${clickTime} è¢«é»æ“Š (å…ƒç´ : ${event.target.tagName})`
}
</script>

<!-- components/ReactivitySamples/RefBasicsDemo.vue -->
<template>
  <div class="ref-basics-demo">
    <h2>ref åŸºç¤ç”¨æ³•</h2>
    <p class="route-info">ğŸ“ è·¯å¾‘ï¼š/ReactivitySamples/RefBasicsDemo.vue</p>

    <!-- åŸºæœ¬æ•¸å€¼ -->
    <div class="demo-section">
      <h3>1. åŸºæœ¬æ•¸å€¼é¡å‹</h3>
      <div class="controls">
        <button @click="count++" class="btn btn-primary">å¢åŠ </button>
        <button @click="count--" class="btn btn-secondary">æ¸›å°‘</button>
        <button @click="count = 0" class="btn btn-danger">é‡ç½®</button>
      </div>
      <div class="result">
        <div class="display-value">è¨ˆæ•¸å™¨: {{ count }}</div>
      </div>
      <div class="code-example">
        <pre v-pre><code>const count = ref(0)

// åœ¨æ¨¡æ¿ä¸­ç›´æ¥ä½¿ç”¨
{{ count }}

// åœ¨ script ä¸­éœ€è¦ .value
count.value++</code></pre>
      </div>
    </div>

    <!-- å­—ä¸² -->
    <div class="demo-section">
      <h3>2. å­—ä¸²é¡å‹</h3>
      <div class="controls">
        <input v-model="message" placeholder="è¼¸å…¥è¨Šæ¯..." class="input-field">
        <button @click="clearMessage" class="btn btn-secondary">æ¸…ç©º</button>
      </div>
      <div class="result">
        <div class="display-value">è¨Šæ¯: {{ message || '(ç©ºç™½)' }}</div>
        <div class="display-value">é•·åº¦: {{ message.length }}</div>
      </div>
      <div class="code-example">
        <pre v-pre><code>const message = ref('')

// é›™å‘ç¶å®š
&lt;input v-model="message"&gt;

// é¡¯ç¤ºå…§å®¹
{{ message }}</code></pre>
      </div>
    </div>

    <!-- å¸ƒæ—å€¼ -->
    <div class="demo-section">
      <h3>3. å¸ƒæ—å€¼é¡å‹</h3>
      <div class="controls">
        <label class="checkbox-label">
          <input type="checkbox" v-model="isVisible">
          é¡¯ç¤ºå…§å®¹
        </label>
        <button @click="toggleVisibility" class="btn btn-primary">åˆ‡æ›</button>
      </div>
      <div class="result">
        <div v-if="isVisible" class="display-value success">
          âœ… å…§å®¹å·²é¡¯ç¤º (isVisible: {{ isVisible }})
        </div>
        <div v-else class="display-value info">
          âŒ å…§å®¹å·²éš±è— (isVisible: {{ isVisible }})
        </div>
      </div>
      <div class="code-example">
        <pre v-pre><code>const isVisible = ref(true)

// æ¢ä»¶æ¸²æŸ“
&lt;div v-if="isVisible"&gt;å…§å®¹&lt;/div&gt;

// åˆ‡æ›æ–¹æ³•
const toggleVisibility = () => {
  isVisible.value = !isVisible.value
}</code></pre>
      </div>
    </div>

    <!-- ç‰©ä»¶ -->
    <div class="demo-section">
      <h3>4. ç‰©ä»¶é¡å‹</h3>
      <div class="controls">
        <input v-model="user.name" placeholder="å§“å" class="input-field">
        <input v-model.number="user.age" type="number" placeholder="å¹´é½¡" class="input-field">
        <button @click="resetUser" class="btn btn-secondary">é‡ç½®</button>
      </div>
      <div class="result">
        <div class="display-value">å§“å: {{ user.name || '(æœªè¨­å®š)' }}</div>
        <div class="display-value">å¹´é½¡: {{ user.age || '(æœªè¨­å®š)' }}</div>
        <div class="display-value">å®Œæ•´ç‰©ä»¶: {{ JSON.stringify(user) }}</div>
      </div>
      <div class="code-example">
        <pre v-pre><code>const user = ref({
  name: '',
  age: 0
})

// ä¿®æ”¹å±¬æ€§
user.value.name = 'æ–°åå­—'
user.value.age = 25

// åœ¨æ¨¡æ¿ä¸­ç›´æ¥ä½¿ç”¨
{{ user.name }}</code></pre>
      </div>
    </div>
  </div>
</template>

<script setup>
import { ref } from 'vue'

// åŸºæœ¬æ•¸å€¼
const count = ref(0)

// å­—ä¸²
const message = ref('')

// å¸ƒæ—å€¼
const isVisible = ref(true)

// ç‰©ä»¶
const user = ref({
  name: '',
  age: 0
})

// æ–¹æ³•
const clearMessage = () => {
  message.value = ''
}

const toggleVisibility = () => {
  isVisible.value = !isVisible.value
}

const resetUser = () => {
  user.value = {
    name: '',
    age: 0
  }
}
</script>
